@using IntelligenceReporting.WebApp.Services
@using IntelligenceReporting.Queries
@inject IApiService _apiService
@inject IFilterSelectionService _filterSelectionService

<MudAutocomplete T="StaffQueryResult" 
                 UserAttributes="@_attributes"
                 Class="@Class"
                 Label="Select Staff..." 
                 SearchFunc="@Search" 
                 Clearable="true" 
                 MaxItems="20"
                 ToStringFunc="@(e => $"{e.StaffName} ({e.StaffId})")"
                 ResetValueOnEmptyText="true"
                 CoerceText="true" 
                 CoerceValue="true"
                 AdornmentIcon="@Icons.Material.Filled.Search" 
                 AdornmentColor="Color.Primary" 
                 Margin="Margin.Dense" 
                 Variant="Variant.Outlined" 
                 AnchorOrigin="Origin.BottomCenter"
                 ValueChanged=@(OnValueChanged) 
                 Value = "@_staffModel"
/>
